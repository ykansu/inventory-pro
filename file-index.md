# Inventory Pro - File Index

This document provides a comprehensive overview of the Inventory Pro project structure to help LLMs understand the codebase organization and relationships.

## Project Overview

Inventory Pro is a comprehensive stock management application built with **Electron.js** and **React**, featuring:
- **POS functionality** with product management, discounts, and split payments.
- **Dashboard** with sales metrics, inventory analysis, and financial reporting.
- **Data backup/import/export** (Excel & JSON).
- **Internationalization** (English & Turkish via `i18next`).

## Project Structure

```
inventory-pro/
├── .cursor/ # Cursor IDE settings
├── .env # Environment variables (not version controlled)
├── .env.example # Example environment variables
├── .git/ # Git repository data
├── .gitignore # Git ignore patterns
├── README.md # Project documentation
├── PRODUCTION-BUILD.md # Production build guide
├── USING-AS-COMPONENT.md # Guide for using components
├── dist/ # Distribution output (generated by build process)
├── features.md # Feature documentation
├── file-index.md # This file - project structure overview
├── forge.config.js # Electron Forge configuration for building
├── node_modules/ # Dependencies
├── out/ # Build output directory (generated by Electron Forge)
├── package-lock.json # Lock file for package versions
├── package.json # Project metadata, dependencies, and scripts
├── scripts/ # Build and utility scripts
│ ├── copy-env-to-dist.js # Script to copy .env file during build
│ └── setup-env.js # Script to set up environment variables
├── src/ # Source code
│ ├── components/ # React components (using CSS modules)
│ │ ├── App.jsx # Root component
│ │ ├── LanguageInitializer.jsx # Initializes i18n
│ │ ├── common/ # Shared UI (e.g., LoadingSpinner.module.css)
│ │ └── dashboard/ # Dashboard-specific components
│ ├── context/ # React context providers
│ │ └── DatabaseContext.jsx # Database context provider
│ ├── database/ # SQLite + Knex.js
│ │ ├── backups/ # Backup storage location (contains subdirs like pre_reset/, pre_import/)
│ │ ├── config.js # Database configuration and utility functions
│ │ ├── dbManager.js # Database management utilities (init, backup, export)
│ │ ├── excel-backup-scheduler.js # Scheduled backup service (Excel)
│ │ ├── excel-backup.js # Excel export/import functionality
│ │ ├── inventory-pro.db # SQLite database file (not version controlled)
│ │ ├── json-backup.js # JSON export/import functionality
│ │ ├── knexfile.js # Knex.js ORM configuration
│ │ ├── migrations/ # Database schema migrations
│ │ │ ├── 20250330_initial_schema.js
│ │ │ ├── 20250331_add_split_payment.js
│ │ │ ├── 20250401_add_payment_amount_fields.js
│ │ │ ├── 20250402_add_price_history.js
│ │ │ ├── 20250410_remove_tax_settings.js
│ │ │ └── 20250411_add_expenses.js
│ │ └── seeds/ # Seed data for the database (Currently empty)
│ ├── hooks/ # Custom React hooks
│ │ ├── useSalesHistory.js # Sales history data hook
│ │ └── useTranslation.js # Translation hook (wraps react-i18next)
│ ├── i18n.js # i18n configuration (using i18next)
│ ├── index.css # Global styles entry point
│ ├── index.html # Main HTML entry point for the renderer process
│ ├── index.js # Main application initialization (renderer process)
│ ├── ipcHandlers/ # Handlers for Inter-Process Communication (IPC) events
│ │ ├── categoryHandlers.js
│ │ ├── configHandlers.js
│ │ ├── dashboardHandlers.js
│ │ ├── databaseHandlers.js # Handles DB operations like backup/export
│ │ ├── languageHandlers.js
│ │ ├── productHandlers.js
│ │ ├── saleHandlers.js
│ │ ├── settingsHandlers.js
│ │ └── supplierHandlers.js
│ ├── main.js # Electron main process entry point
│ ├── models/ # Data models (using Objection.js built on Knex)
│ │ ├── BaseModel.js # Base model for common functionality
│ │ ├── Category.js
│ │ ├── Product.js
│ │ ├── Sale.js
│ │ ├── Setting.js
│ │ ├── Supplier.js
│ │ └── index.js # Exports all models
│ ├── pages/ # Application pages/screens (React components)
│ │ ├── Dashboard.jsx
│ │ ├── POS.jsx # Point of Sale system (with CSS modules)
│ │ ├── ProductManagement.jsx
│ │ ├── Reports.jsx
│ │ ├── SalesHistory.jsx
│ │ ├── Settings.jsx
│ │ └── StockUpdate.jsx
│ ├── preload.js # Electron preload script (bridges main and renderer processes)
│ ├── renderer.js # Electron renderer process setup (obsolete/minimal content?)
│ ├── services/ # Business logic services
│ │ └── DatabaseService.js # Service layer for database interactions
│ ├── styles/ # Legacy CSS (phased out for modules)
│ └── translations/ # Translation files (JSON format for i18next)
│ ├── en/ # English translations
│ │ ├── common.json
│ │ ├── dashboard.json
│ │ ├── pos.json
│ │ ├── products.json
│ │ ├── reports.json
│ │ ├── sales.json
│ │ └── settings.json
│ └── tr/ # Turkish translations
│ ├── common.json
│ ├── dashboard.json
│ ├── pos.json
│ ├── products.json
│ ├── reports.json
│ ├── sales.json
│ └── settings.json
└── utils/ # Utility functions
├── calculations.js # Business calculation functions
├── formatters.js # Data formatting utilities
└── receiptPrinter.js # Receipt printing functionality
└── webpack.config.js # Webpack bundler configuration (likely used by Electron Forge)
33 hidden lines
33 hidden lines
Let me know if you'd like me to try breaking the edit into smaller pieces or if you prefer to update the file manually.
```

## File Descriptions

### Root Directory Files

| File                  | Description                                                 |
|-----------------------|-------------------------------------------------------------|
| `package.json`          | Project metadata, dependencies, and scripts                 |
| `package-lock.json`   | Lock file for exact package versions                        |
| `webpack.config.js`   | Webpack bundler configuration                               |
| `forge.config.js`     | Electron Forge configuration for building                   |
| `.env.example`        | Example environment variables                               |
| `.env`                | Environment variables (not version controlled)              |
| `.gitignore`          | Git ignore patterns                                         |
| `README.md`           | Project documentation                                       |
| `features.md`         | Feature documentation                                       |
| `PRODUCTION-BUILD.md` | Production build guide                                      |
| `USING-AS-COMPONENT.md` | Guide for using components                                  |
| `file-index.md`       | This file - project structure overview                      |
| `scripts/`            | Directory containing build and utility scripts              |
| `dist/`               | Distribution output directory (generated by build process)  |
| `out/`                | Build output directory (generated by Electron Forge)        |

### Scripts Directory Files (`scripts/`)

| File                  | Description                                     |
|-----------------------|-------------------------------------------------|\n| `copy-env-to-dist.js` | Copies the `.env` file to the build directory   |
| `setup-env.js`        | Sets up environment variables for the application |

### Core Electron & Application Files (`src/`)

| File             | Description                                                          |
|------------------|----------------------------------------------------------------------|
| `main.js`        | Electron main process entry point, handles window creation & IPC setup |
| `preload.js`     | Electron preload script for secure IPC between main and renderer     |
| `index.html`     | Main HTML entry point loaded into the browser window                 |
| `index.js`       | Entry point for the React application (renderer process)             |
| `index.css`      | Main CSS entry point, imports other style files                      |
| `i18n.js`        | Internationalization (i18next) configuration                         |
| `renderer.js`    | Renderer process setup (may contain minimal setup code)              |

### Components (`src/components/`)

| Directory/File                  | Description                                                  |
|---------------------------------|--------------------------------------------------------------|
| `App.jsx`                       | Root React component, sets up routing and context providers  |
| `LanguageInitializer.jsx`       | Initializes i18n for the React application                   |
| `common/`                       | Shared UI (e.g., LoadingSpinner.module.css)   |
| `dashboard/`                    | Components specifically used on the Dashboard page           |
| `product/`                      | Components related to product management (currently empty)   |

### Pages (`src/pages/`)

| File                    | Description                        |
|-------------------------|------------------------------------|
| `Dashboard.jsx`         | Main dashboard screen              |
| `ProductManagement.jsx` | Product listing and management     |
| `POS.jsx`               | Point of Sale interface            |
| `Reports.jsx`           | Reporting and analytics screen     |
| `SalesHistory.jsx`      | View past sales records            |
| `Settings.jsx`          | Application settings configuration |
| `StockUpdate.jsx`       | Interface for updating stock levels|

### Styles (`src/styles/`)

| File/Directory           | Description                                       |
|--------------------------|---------------------------------------------------|\n| `main.css`               | Core application-wide styles                      |
| `components/`            | Styles for specific shared or dashboard components|
| `pages/`                 | Styles specific to each application page          |

### Database (`src/database/`)

| File/Directory              | Description                                                           |
|-----------------------------|-----------------------------------------------------------------------|
| `config.js`                 | Database configuration, connection setup, utility functions           |
| `knexfile.js`               | Knex.js ORM configuration for migrations and seeds                    |
| `dbManager.js`              | Manages database initialization, backups, and data export/import      |
| `excel-backup.js`           | Handles exporting/importing data to/from Excel format                 |
| `json-backup.js`            | Handles exporting/importing data to/from JSON format                  |
| `excel-backup-scheduler.js` | Service for scheduling automatic Excel backups                      |
| `migrations/`               | Knex database schema migrations                                       |
| `seeds/`                    | Knex seed data files for populating the database (currently empty)    |
| `backups/`                  | Default location for database backups (contains subdirectories)       |
| `inventory-pro.db`          | SQLite database file (usually not version controlled)                 |

### Models (`src/models/`)

| File          | Description                                                               |
|---------------|---------------------------------------------------------------------------|
| `index.js`    | Exports all Objection.js models                                           |
| `BaseModel.js`| Base model providing common functionality or configuration for other models |
| `Setting.js`  | Model for application settings                                            |
| `Product.js`  | Model for products                                                        |
| `Category.js` | Model for product categories                                              |
| `Supplier.js` | Model for suppliers                                                       |
| `Sale.js`     | Model for sales transactions and associated details                     |

### Context (`src/context/`)

| File                  | Description                                                            |
|-----------------------|------------------------------------------------------------------------|
| `DatabaseContext.jsx` | React Context provider for managing and accessing database information |

### Hooks (`src/hooks/`)

| File                 | Description                                                |
|----------------------|------------------------------------------------------------|\n| `useTranslation.js`  | Custom hook simplifying the use of `react-i18next`         |
| `useSalesHistory.js` | Custom hook for fetching and managing sales history data   |

### IPC Handlers (`src/ipcHandlers/`)

| File                  | Description                                          |
|-----------------------|------------------------------------------------------|
| `categoryHandlers.js` | Handles IPC calls related to categories              |
| `configHandlers.js`   | Handles IPC calls for application configuration      |
| `dashboardHandlers.js`| Handles IPC calls for dashboard data retrieval       |
| `databaseHandlers.js` | Handles IPC calls for database operations (backup etc) |
| `languageHandlers.js` | Handles IPC calls for language settings              |
| `productHandlers.js`  | Handles IPC calls related to products                |
| `saleHandlers.js`     | Handles IPC calls related to sales                   |
| `settingsHandlers.js` | Handles IPC calls for application settings           |
| `supplierHandlers.js` | Handles IPC calls related to suppliers               |

### Utils (`src/utils/`)

| File                | Description                                         |
|---------------------|-----------------------------------------------------|
| `calculations.js`   | Utility functions for business logic calculations |
| `formatters.js`     | Utility functions for formatting data (dates, etc.) |
| `receiptPrinter.js` | Functionality for generating and printing receipts  |

### Translations (`src/translations/`)

| Directory | Description                              |
|-----------|------------------------------------------|
| `en/`     | English translation files (JSON format)  |
| `tr/`     | Turkish translation files (JSON format)  |

## Tech Stack

| Category           | Technologies                          |
|--------------------|---------------------------------------|
| **Framework**      | Electron                              |
| **Frontend**       | React, React Router, Chart.js, CSS Modules |
| **Backend**        | Node.js, Knex.js (SQLite)             |
| **i18n**           | i18next, react-i18next                |
| **Build Tools**    | Webpack, Babel, Electron Forge        |

## Other Important Information

- The application uses SQLite as its database, managed via Knex.js.
- Electron enables the creation of a cross-platform desktop application.
- Inter-Process Communication (IPC) is used between the Electron main process (`main.js`) and the renderer process (React app), facilitated by `preload.js` and handled by files in `src/ipcHandlers/`.
- React handles the UI components and state management within the renderer process.
- `i18next` provides internationalization support, with translations stored in `src/translations/`.
- Chart.js is used for data visualization in dashboards and reports.
- The app supports data backup/export/import for both Excel and JSON formats.
- Database migrations are managed using Knex.js.
- `DatabaseService.js` acts as a service layer abstracting direct database calls.
- Environment variables are managed via `.env` files and the `dotenv` package.
